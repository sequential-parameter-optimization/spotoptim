# _quarto.yml
# =============================================================================
# Quarto project configuration for spotoptim
# Replaces: mkdocs.yml
# Generated: 2026-02-27
# =============================================================================

project:
  type: website
  output-dir: _site
  render: 
    - docs/
  # Build API stubs from source before every render
  pre-render: python -m quartodoc build --config _quarto.yml

website:
  title: "spotoptim"
  description: "spotoptim — Sequential Parameter Optimization Toolbox in Python"
  site-url: "https://sequential-parameter-optimization.github.io/spotoptim/"
  repo-url: "https://github.com/sequential-parameter-optimization/spotoptim"
  repo-actions: [edit, issue]
  favicon: docs/images/favicon.png
  # Note: 'logo' is only valid under navbar:, not directly under website:

  # ── Navigation bar ──────────────────────────────────────────────────────────
  navbar:
    background: dark
    logo: docs/images/spotlogo.png
    left:
      - text: "Home"
        href: docs/index.qmd
      - text: "API Reference"
        href: docs/reference/index.qmd
      - text: "Documentation"
        href: docs/sequential-parameter-optimization-cookbook.qmd
      - text: "Download"
        href: docs/download.qmd
      - text: "Examples"
        href: docs/examples.qmd
    right:
      - icon: twitter
        href: https://twitter.com/bartzbeielstein
        aria-label: Twitter
      - icon: linkedin
        href: https://www.linkedin.com/in/thomas-bartz-beielstein-3157b541/
        aria-label: LinkedIn
      - icon: github
        href: https://github.com/sequential-parameter-optimization/spotoptim
        aria-label: GitHub

  # ── Sidebar ─────────────────────────────────────────────────────────────────
  sidebar:
    style: "docked"
    search: true
    collapse-level: 2
    contents:
      - section: "Home"
        href: docs/index.qmd
      - section: "API Reference"
        href: docs/reference/index.qmd
        contents: auto            # auto-populated by quartodoc via _sidebar.yml
      - section: "Documentation"
        href: docs/sequential-parameter-optimization-cookbook.qmd
      - section: "Download"
        href: docs/download.qmd
      - section: "Examples"
        href: docs/examples.qmd

  # ── Footer ──────────────────────────────────────────────────────────────────
  page-footer:
    left: "Copyright © 2004–2026 Thomas Bartz-Beielstein"
    right:
      - icon: github
        href: https://github.com/sequential-parameter-optimization/spotoptim

  # ── Search ──────────────────────────────────────────────────────────────────
  search:
    location: navbar
    type: overlay

# ── Output format ───────────────────────────────────────────────────────────
format:
  html:
    theme:
      light: cosmo              # close to Material default; alternatives: flatly, lux
      dark:  darkly
    highlight-style: github
    code-copy: true
    code-overflow: wrap
    toc: true
    toc-depth: 3
    number-sections: false
    # Math: built-in MathJax — identical delimiters to pymdownx.arithmatex
    # Inline: $…$   Display: $$…$$  — no extra CDN or JS files needed
    html-math-method: mathjax
    # Typography matching mkdocs.yml font settings
    # mainfont: "Roboto"
    # monofont: "Fira Code"

# ── Code execution ──────────────────────────────────────────────────────────
execute:
  # freeze: auto — execute code locally; CI renders pre-frozen results only.
  # This means the GitHub Action does NOT need the full runtime deps (torch, etc.)
  # To execute code in CI instead, set `freeze: false` and uncomment the
  # "Install runtime packages" step in .github/workflows/docs.yml.
  freeze: auto
  warning: false
  echo: true

# ── quartodoc: API documentation generator ──────────────────────────────────
# Replaces: mkdocstrings + mkdocs-gen-files + mkdocs-literate-nav
# Parser "google" matches the project's Google-style docstring format.
# Output is written to docs/reference/ before Quarto renders the site.
quartodoc:
  package: spotoptim
  source_dir: src
  title: "API Reference"
  dir: docs/reference
  parser: google                # must match docstring style
  sidebar: docs/reference/_sidebar.yml   # consumed by `contents: auto`

  dynamic: false

  sections:
    - title: "Core"
      contents:
        - SpotOptim
        - core
        - core.data
        - core.experiment

    - title: "Surrogate Models"
      contents:
        - surrogate
        - surrogate.kriging
        - surrogate.simple_kriging
        - surrogate.mlp_surrogate
        - surrogate.nystroem
        - surrogate.kernels
        - surrogate.pipeline

    - title: "Sampling"
      contents:
        - sampling
        - sampling.design
        - sampling.effects
        - sampling.lhs
        - sampling.mm

    - title: "Optimization"
      contents:
        - optimizer
        - optimizer.schedule_free

    - title: "Hyperparameters"
      contents:
        - hyperparameters
        - hyperparameters.parameters
        - hyperparameters.repr_helpers

    - title: "Neural Networks"
      contents:
        - nn
        - nn.linear_regressor
        - nn.mlp

    - title: "Plotting & Visualization"
      contents:
        - plot
        - plot.contour
        - plot.mo
        - plot.visualization

    - title: "Utilities"
      contents:
        - utils
        - utils.boundaries
        - utils.eval
        - utils.file
        - utils.mapping
        - utils.pca
        - utils.scaler
        - utils.stats

    - title: "Data"
      contents:
        - data
        - data.base
        - data.diabetes

    - title: "Exploratory Data Analysis"
      contents:
        - eda
        - eda.plots

    - title: "Multi-Objective"
      contents:
        - mo
        - mo.mo_mm
        - mo.pareto

    - title: "Inspection"
      contents:
        - inspection
        - inspection.importance
        - inspection.predictions

    - title: "Factor Analyzer"
      contents:
        - factor_analyzer
        - factor_analyzer.confirmatory_factor_analyzer
        - factor_analyzer.factor_analyzer
        - factor_analyzer.factor_analyzer_rotator
        - factor_analyzer.factor_analyzer_utils

    - title: "Functions"
      contents:
        - function
        - function.forr08a
        - function.mo
        - function.remote
        - function.so
        - function.torch_objective

    - title: "Tricands"
      contents:
        - tricands
        - tricands.tricands
